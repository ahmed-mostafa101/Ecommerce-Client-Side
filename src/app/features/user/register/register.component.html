<div class="container">
  <div class="left-side">
    <div class="register-box">
      <p class="title">Create your account.</p>

      <form [formGroup]="registerForm" (ngSubmit)="onRegister()">

        <div class="name">
          <div class="primary-input">
            <div class="input-box">
              <input type="text" id="firstName" formControlName="firstName" placeholder=" ">
              <label for="firstName">First name</label>
            </div>
            <div class="error-box" *ngIf="registerForm.get('firstName')?.touched && registerForm.get('firstName')?.invalid">
              <small *ngIf="registerForm.get('firstName')?.hasError('required')">* First name is required.</small>
            </div>
          </div>

          <div class="primary-input">
            <div class="input-box">
              <input type="text" id="lastName" formControlName="lastName" placeholder=" ">
              <label for="lastName">Last name</label>
            </div>
            <div class="error-box" *ngIf="registerForm.get('lastName')?.touched && registerForm.get('lastName')?.invalid">
              <small *ngIf="registerForm.get('lastName')?.hasError('required')">* Last name is required.</small>
            </div>
          </div>
        </div>

        <div class="primary-input">
          <div class="input-box">
            <input type="email" id="email" formControlName="email" placeholder=" ">
            <label for="email">Email</label>
          </div>
          <div class="error-box" *ngIf="registerForm.get('email')?.touched && registerForm.get('email')?.invalid">
            <small *ngIf="registerForm.get('email')?.hasError('required')">* Email is required.</small>
            <small *ngIf="registerForm.get('email')?.hasError('email')">* Enter a valid email.</small>
          </div>
        </div>

        <div class="primary-input">
          <div class="input-box">
            <input type="password" id="password" formControlName="password" placeholder=" ">
            <label for="password">Password</label>
          </div>
          <div class="error-box" *ngIf="registerForm.get('password')?.touched && registerForm.get('password')?.invalid">
            <small *ngIf="registerForm.get('password')?.hasError('required')">* Password is required.</small>
            <small *ngIf="registerForm.get('password')?.hasError('minlength')">* Password must be at least 6 letters.</small>
          </div>
        </div>

        <div class="primary-input">
          <div class="input-box">
            <input type="password" id="confirmPassword" formControlName="confirmPassword" placeholder=" ">
            <label for="confirm">Confirm password</label>
          </div>
          <div class="error-box" *ngIf="registerForm.get('confirmPassword')?.touched">
            <small *ngIf="registerForm.hasError('mismatch')">* Passwords do not match.</small>
          </div>
        </div>

        <button pRipple class="primary-btn" type="submit" [disabled]="!registerForm.valid">Sign up</button>
      </form>
      <p class="login">
        Already have an account?
        <a routerLink="/login" >Sign in</a>
      </p>
      <div class="or"></div>
      <div pRipple class="other-way">
        <img src="images/icons/google.png" alt="google">
        Sign up with Google
      </div>
      <div pRipple class="other-way">
        <img src="images/icons/facebook.png" alt="facebook">
        Sign up with Facebook
      </div>
    </div>
  </div>

  <div class="right-side">
    <img src="images/visuals/register.png" alt="register">
  </div>
</div>


<div *ngIf="displayPopup" class="overlay">
  <div class="popup">
    <div *ngIf="loading" class="loading">
      <i class="fa-solid fa-sync fa-spin"></i>
      <p>Wait for creating your account ....</p>
    </div>

    <div *ngIf="!loading" class="success">
      <i (click)="closePopup()" class="fa-solid fa-xmark close"></i>
      <img src="{{popupIcon}}">
      <p>{{popupMessage}}</p>
      <p *ngIf="successFlag">You can sign in now!</p>
      <button *ngIf="successFlag" (click)="goToSignIn()" pRipple class="primary-btn">Sign In Now!</button>
    </div>
  </div>
</div>
